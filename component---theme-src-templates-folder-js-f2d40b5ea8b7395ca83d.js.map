{"version":3,"sources":["webpack:///../theme/src/components/Folder.js","webpack:///../theme/src/templates/folder.js","webpack:///../theme/src/utils.js"],"names":["Folder","to","inputs","folder","pathPrefix","prefix","withPrefix","slugs","slides","map","slide","withPagePrefix","slug","previous","localStorage","getItem","startsWith","substr","length","indexOf","useEffect","navigate","data","pageContext","query","replace"],"mappings":"+IAIaA,EAAS,SAAC,GAA4B,IAK7CC,EAAIC,EALeC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,WACzBC,EAASC,qBAAW,KACpBC,EAAQJ,EAAOK,OAAOC,IAAI,SAAAC,GAAK,OACnCC,YAAeP,EAAYM,EAAME,QAGnC,GAAIL,EAAO,CACT,IAAIM,EACJ,GAA4B,oBAAjBC,aAET,IADAD,EAAWC,aAAaC,QAAQ,yBAA2B,GACzC,MAAXV,GAAkBQ,EAASG,WAAWX,IAC3CQ,EAAQ,IAAOA,EAASI,OAAOX,qBAAW,KAAKY,QAG/CX,EAAMY,QAAQN,IAAa,GAC7BZ,EAAKY,EACLX,EAASW,IAETZ,EAAKM,EAAM,GACXL,EAAS,CAACK,SAGZN,EAAK,QACLC,EAAS,GAGX,OADAkB,oBAAU,kBAAMC,mBAASpB,IAAK,CAACA,EAAIC,IAC5B,MC9BT,oCAIe,0BAAGoB,EAAH,EAAGA,KAAMC,EAAT,EAASA,YAAT,OACb,kBAAC,EAAD,CAAQpB,OAAQmB,EAAKnB,OAAQC,WAAYmB,EAAYnB,cADxC,IAIFoB,EAAK,c,2ECRLb,EAAiB,SAACN,EAAQO,GAAT,OAC5B,GAAGP,EAASO,GAAOa,QAAQ,OAAQ","file":"component---theme-src-templates-folder-js-f2d40b5ea8b7395ca83d.js","sourcesContent":["import { navigate, withPrefix } from 'gatsby-link';\nimport { useEffect } from 'react';\nimport { withPagePrefix } from '../utils';\n\nexport const Folder = ({ folder, pathPrefix }) => {\n  const prefix = withPrefix('/');\n  const slugs = folder.slides.map(slide =>\n    withPagePrefix(pathPrefix, slide.slug)\n  );\n  let to, inputs;\n  if (slugs) {\n    let previous;\n    if (typeof localStorage !== 'undefined') {\n      previous = localStorage.getItem('ds.location.pathname') || '';\n      while (prefix !== '/' && previous.startsWith(prefix)) {\n        previous = `/${previous.substr(withPrefix('/').length)}`;\n      }\n    }\n    if (slugs.indexOf(previous) > -1) {\n      to = previous;\n      inputs = previous;\n    } else {\n      to = slugs[0];\n      inputs = [slugs];\n    }\n  } else {\n    to = '/404/';\n    inputs = [];\n  }\n  useEffect(() => navigate(to), [to, inputs]);\n  return null;\n};\n","import React from 'react';\nimport { graphql } from 'gatsby';\nimport { Folder } from '../components/Folder';\n\nexport default ({ data, pageContext }) => (\n  <Folder folder={data.folder} pathPrefix={pageContext.pathPrefix} />\n);\n\nexport const query = graphql`\n  query($id: String!) {\n    folder: ploneFolder(id: { eq: $id }) {\n      slides: items {\n        slug: _path\n      }\n    }\n  }\n`;\n","export const withPagePrefix = (prefix, slug) =>\n  `${prefix}${slug}`.replace(/\\/+/g, '/');\n"],"sourceRoot":""}